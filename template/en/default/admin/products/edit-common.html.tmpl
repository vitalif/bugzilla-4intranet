[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Bug Tracking System.
  #
  # Contributor(s): Jack Nerad     <jnerad@bellsouth.net>
  #                 Tiago R. Mello <tiago@async.com.br>
  #                 Gabriel S. Oliveira <gabriel@async.com.br>
  #%]

[%# INTERFACE:
  # product: Bugzilla::Product object; The product
  #
  # classification: Bugzilla::Classifiation object; classification product is in.
  #%]

[% IF Param('useclassification') %]
  <tr>
    <th align="right">Classification:</th>
    <td><b>[% classification.name FILTER html %]</b></td>
  </tr>
[% END %]

<tr>
  <th align="right">Product:</th>
  <td><input size="64" maxlength="64" name="product" 
             value="[% product.name FILTER html %]">
  </td>
</tr>
<tr>
  <th align="right">Description:</th>
  <td><textarea rows="4" cols="64" wrap="virtual" name="description">
        [% product.description FILTER html %]</textarea>
  </td>
</tr>

<tr>
  <th align="right">Open for [% terms.bug %] entry:</th>
  <td><input type="checkbox" name="is_active" value="1"
       [% ' checked="checked"' IF product.is_active %]>
  </td>
</tr>
<tr>
  <th align="right">
    <label for="allows_unconfirmed">Enable the
      UNCONFIRMED status
      in this product:</label>
  </th>
  <td><input type="checkbox" id="allows_unconfirmed" name="allows_unconfirmed"
  [% ' checked="checked"' IF product.allows_unconfirmed %]>
  </td>
</tr>

<tr>
  <th align="right">
    <label for="wiki_url">Wiki URL:</label>
  </th>
  <td>
    <input size="64" maxlength="64" name="wiki_url" value="[% product.wiki_url FILTER html %]" />
    <br><em>Or use default setting when empty.</em>
  </td>
</tr>

<tr>
  <th align="right">Prefer not to time-track this product:</th>
  <td><input type="checkbox" name="notimetracking" value="1"
       [% IF product.notimetracking %] checked="checked"[% END %] />
  </td>
</tr>

<tr>
  <th align="right">External product for this:</th>
  <td>
    <select name="extproduct">
      <option value="">---</option>
    [% FOREACH prod = Bugzilla.user.get_editable_products %]
      <option value="[% prod.id %]" [% ' selected="selected"' IF prod.id == product.extproduct %]>[% prod.name | html %]</option>
    [% END %]
    </select>
  </td>
</tr>

[% IF Param('usetargetmilestone') -%]
  <tr>
    <th align="right">Default milestone:</th>
    <td>
      [% IF product.milestones.size %]
        <select name="defaultmilestone">
          [% FOREACH m = product.milestones %]
            <option value="[% m.name FILTER html %]"
                    [% " selected=\"selected\"" IF m.name == product.defaultmilestone %]>
              [%- m.name FILTER html -%]</option>
          [% END %]
        </select>
      [% ELSE %]
        <input type="text" size="20" maxlength="20" name="defaultmilestone"
               value="[% product.defaultmilestone FILTER html %]">
      [% END %]
    </td>
  </tr>
[% END %]

[% Hook.process('rows') %]
